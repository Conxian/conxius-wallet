appId: com.conxius.wallet
---
- launchApp
- runFlow:
    when:
      visible: "CONXIUS ENCLAVE"
    commands:
      # "Create New Wallet" button at bottom of screen
      - tapOn:
          point: "50%,88%"
      - takeScreenshot: "reset_dialog_visible"
      # Handle Native Confirm Dialog (Try "OK" or "Purge" or check screenshot)
      - tapOn: "OK" 
- assertVisible: "Initialize your sovereign interface"
- tapOn: "Create Vault"
- tapOn: "Continue to Entropy Scan"
# Entropy gathering: Swipe around
- repeat:
    times: 25
    commands:
      - swipe:
          start: "50%,50%"
          end: "10%,10%"
          duration: 50
      - swipe:
          start: "50%,50%"
          end: "90%,90%"
          duration: 50
      - swipe:
          start: "50%,50%"
          end: "10%,90%"
          duration: 50
      - swipe:
          start: "50%,50%"
          end: "90%,10%"
          duration: 50
- assertVisible: "Secure Enclave"
- inputText: "123456"
- tapOn: "Confirm" # Focus Confirm PIN
- inputText: "123456"
- tapOn: "Confirm Encryption"
- assertVisible: "Master Seed Backup"
